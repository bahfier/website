import{v as z}from"./index-53f12bfd.js";import{A as C,b as M,a as h,g as E,c as P}from"./index-8a1531da.js";/* empty css              *//* empty css              */import{d as R,r as w,c as $,x as O,F as V,G as F,aP as e,aN as o,J as c,aZ as m,u as r,aY as g,aK as A,w as p,bi as H,bk as j,bl as G,bm as J,bn as K,b4 as Y,b1 as Z,b5 as q,b6 as L}from"./ui-9b3bf580.js";import{p as Q,f as U}from"./wallet-2de90956.js";import{_ as W}from"./plugin-vueexport-helper-c27b6911.js";import"./vue-0322dc53.js";const X=d=>(q("data-v-806cb03c"),d=d(),L(),d),tt={class:"mint-container"},et={class:"title"},at={class:"description"},ot={class:"mint-box"},nt=X(()=>c("h2",{style:{color:"#ff5ab5"}},"Block Hole - Mint",-1)),st={style:{"font-size":"12px"}},it=R({__name:"index",setup(d){const{t:i}=z.useI18n(),a=w({loading:!1,total:0,minted:0,balance:0n}),l=w({total:0,minted:0,balance:0n}),u=C(),S=M();async function _(){const t=h.address.value;t&&(u._userDropeds(t).then(s=>{a.minted=Number(s)}),S.balanceOf(t).then(s=>{a.balance=s}))}const v=$(()=>{const t=Math.floor(a.total/15e7*1e4)/100;return t>100?100:t});async function B(){const t=h.address.value,s=await E();if(t&&s){a.loading=!0;try{await s.sendTransaction({to:P,value:Q("0.002")}).then(n=>n.wait()),_()}catch(n){n.reason?A.error(n.reason):A.error(i("mint.fail"))}a.loading=!1}}function y(t){const s=U(t);return Math.floor(Number(s))}function k(){p(()=>a.total,t=>{t&&setTimeout(()=>{l.total=t},1e3)}),p(()=>a.balance,t=>{t&&setTimeout(()=>{l.balance=t},1e3)}),p(()=>a.minted,t=>{t&&setTimeout(()=>{l.minted=t},1e3)}),p(h.address,t=>{t&&_()})}return O(()=>{u.on(u.getEvent("Droped"),(t,s,n)=>{a.total=Number(n*1000n)}),u._totalDroped().then(t=>{a.total=Number(t*1000n)}),_(),k()}),(t,s)=>{const n=H,f=j,b=G,D=J,I=K,x=Y,N=Z;return V(),F("div",tt,[e(x,{style:{width:"600px","max-width":"90%",margin:"auto"},gutter:[20,20]},{default:o(()=>[e(n,null,{default:o(()=>[c("div",et,m(r(i)("mint.title")),1),c("div",at,m(r(i)("mint.description")),1)]),_:1}),e(n,{style:{width:"100%"}},{default:o(()=>[c("div",ot,[nt,e(x,{style:{width:"100%"},gutter:[0,30]},{default:o(()=>[e(n,{md:12,style:{width:"100%","text-align":"left"}},{default:o(()=>[e(D,{layout:"inline-vertical",column:1,size:"large","label-style":{paddingTop:"20px"}},{default:o(()=>[e(b,{label:`${r(i)("mint.progress")} : ${v.value}%`},{default:o(()=>[e(f,{value:a.total,"value-from":l.total,"value-style":{fontSize:"14px"},"animation-duration":1e3,"show-group-separator":"",animation:""},null,8,["value","value-from"]),g(" / 150,000,000 ")]),_:1},8,["label"]),e(b,{label:r(i)("mint.mynum")},{default:o(()=>[e(f,{value:a.minted,"value-from":l.minted,"value-style":{fontSize:"14px"},"animation-duration":1e3,"show-group-separator":"",animation:""},null,8,["value","value-from"]),g(" / 100 ")]),_:1},8,["label"]),e(b,{label:r(i)("mint.balance")},{default:o(()=>[e(f,{value:y(a.balance),"value-from":y(l.balance),"value-style":{fontSize:"14px"},"animation-duration":1e3,"show-group-separator":"",animation:""},null,8,["value","value-from"])]),_:1},8,["label"])]),_:1})]),_:1}),e(n,{md:12,style:{width:"100%","text-align":"center"}},{default:o(()=>[e(I,{"stroke-width":10,percent:v.value/100,color:{"0%":"rgb(var(--primary-6))","100%":"rgb(var(--success-6))"},type:"circle",size:"large",style:{zoom:"2.5"}},{text:o(({percent:T})=>[c("span",st,m(Math.floor(T*1e4)/100)+"% ",1)]),_:1},8,["percent","color"])]),_:1})]),_:1}),e(N,{class:"mint",long:"",loading:a.loading,onClick:B},{default:o(()=>[g(m(r(i)("mint.title")),1)]),_:1},8,["loading"])])]),_:1})]),_:1})])}}});const ft=W(it,[["__scopeId","data-v-806cb03c"]]);export{ft as default};
